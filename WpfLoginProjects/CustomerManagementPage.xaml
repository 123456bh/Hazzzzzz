<Page x:Class="WpfLoginProjects.CustomerManagementPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:WpfLoginProjects"
      mc:Ignorable="d" 
      d:DesignHeight="600" d:DesignWidth="900"
      Title="CustomerManagementPage">

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Dòng cho Tiêu đề -->
            <RowDefinition Height="*"/>
            <!-- Dòng cho Nội dung chính -->
        </Grid.RowDefinitions>

        <!-- Tiêu đề của trang -->
        <TextBlock Text="Customer Management" 
                   FontSize="24" FontWeight="Bold" 
                   Margin="0,0,0,20" Grid.Row="0"/>

        <!-- Nội dung chính được chia thành 2 cột: Danh sách và Form chi tiết -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <!-- Phần danh sách, chiếm 2/3 -->
                <ColumnDefinition Width="Auto" />
                <!-- Đường kẻ phân cách -->
                <ColumnDefinition Width="1*" />
                <!-- Phần form, chiếm 1/3 -->
            </Grid.ColumnDefinitions>

            <!-- Cột 0: Bảng hiển thị danh sách khách hàng -->
            <DockPanel Grid.Column="0">
                <!-- Các nút chức năng phía trên bảng -->
                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,10">
                    <Button x:Name="btnAddNew" Content="Add New Customer" Width="140" Click="btnAddNew_Click" />
                    <!-- Bạn có thể thêm nút tìm kiếm ở đây nếu muốn -->
                </StackPanel>

                <!-- Bảng dữ liệu khách hàng -->
                <DataGrid x:Name="CustomersDataGrid" 
                          AutoGenerateColumns="False" 
                          IsReadOnly="True"
                          SelectionChanged="CustomersDataGrid_SelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Full Name" Binding="{Binding FullName}" Width="*"/>
                        <DataGridTextColumn Header="Phone Number" Binding="{Binding PhoneNumber}" Width="120"/>
                        <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="180"/>
                        <DataGridTextColumn Header="Date Registered" Binding="{Binding DateRegistered, StringFormat='dd/MM/yyyy'}" Width="120"/>
                    </DataGrid.Columns>
                </DataGrid>
            </DockPanel>

            <!-- Cột 1: Đường kẻ phân cách dọc -->
            <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch" Background="LightGray"/>

            <!-- Cột 2: Form chi tiết để thêm/sửa thông tin -->
            <Border Grid.Column="2" Padding="15" Background="#F9F9F9">
                <StackPanel x:Name="DetailsPanel">
                    <TextBlock Text="Customer Details" FontWeight="Bold" FontSize="16" Margin="0,0,0,15" TextDecorations="Underline"/>

                    <Label Content="Full Name:"/>
                    <TextBox x:Name="txtFullName" Margin="0,0,0,10" Padding="5"/>

                    <Label Content="Phone Number:"/>
                    <TextBox x:Name="txtPhoneNumber" Margin="0,0,0,10" Padding="5"/>

                    <Label Content="Email:"/>
                    <TextBox x:Name="txtEmail" Margin="0,0,0,10" Padding="5"/>

                    <Label Content="Address:"/>
                    <TextBox x:Name="txtAddress" Margin="0,0,0,10" Padding="5" Height="80" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"/>

                    <Label Content="Customer Code (Optional):"/>
                    <TextBox x:Name="txtCustomerCode" Margin="0,0,0,15" Padding="5"/>

                    <!-- Các nút Lưu và Xóa -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                        <Button x:Name="btnSave" Content="Save" Width="90" Height="30" Margin="0,0,10,0" Click="btnSave_Click" />
                        <Button x:Name="btnDelete" Content="Delete" Width="90" Height="30" Click="btnDelete_Click" />
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Page>